{
	"id": "004e5661-3aaf-45db-8547-986faee4826d",
	"prevId": "5f0a8658-5c4c-41bc-917f-ad8a21d6f1a1",
	"version": "7",
	"dialect": "postgresql",
	"tables": {
		"public.food": {
			"name": "food",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "timezone\n        ('utc'::text, now())"
				},
				"name": {
					"name": "name",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"user_id": {
					"name": "user_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true,
					"default": "auth\n        .\n        uid\n        ()"
				},
				"energy": {
					"name": "energy",
					"type": "real",
					"primaryKey": false,
					"notNull": true
				},
				"protein": {
					"name": "protein",
					"type": "real",
					"primaryKey": false,
					"notNull": true
				},
				"fat": {
					"name": "fat",
					"type": "real",
					"primaryKey": false,
					"notNull": true
				},
				"carbohydrates": {
					"name": "carbohydrates",
					"type": "real",
					"primaryKey": false,
					"notNull": true
				},
				"sugar": {
					"name": "sugar",
					"type": "real",
					"primaryKey": false,
					"notNull": false
				},
				"fibre": {
					"name": "fibre",
					"type": "real",
					"primaryKey": false,
					"notNull": false
				},
				"salt": {
					"name": "salt",
					"type": "real",
					"primaryKey": false,
					"notNull": false
				}
			},
			"indexes": {},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"Authenticated users can insert their own food": {
					"name": "Authenticated users can insert their own food",
					"as": "PERMISSIVE",
					"for": "INSERT",
					"to": ["authenticated"],
					"withCheck": "(auth.uid()\n                     = user_id)"
				},
				"Enable delete for users based on user_id": {
					"name": "Enable delete for users based on user_id",
					"as": "PERMISSIVE",
					"for": "DELETE",
					"to": ["public"]
				},
				"User can only select their own foods": {
					"name": "User can only select their own foods",
					"as": "PERMISSIVE",
					"for": "SELECT",
					"to": ["authenticated"]
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.habit_completions": {
			"name": "habit_completions",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"habit_id": {
					"name": "habit_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"completed_at": {
					"name": "completed_at",
					"type": "date",
					"primaryKey": false,
					"notNull": true
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"habit_completions_habit_id_idx": {
					"name": "habit_completions_habit_id_idx",
					"columns": [
						{
							"expression": "habit_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"habit_completions_completed_at_idx": {
					"name": "habit_completions_completed_at_idx",
					"columns": [
						{
							"expression": "completed_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"habit_completions_habit_id_habit_id_fk": {
					"name": "habit_completions_habit_id_habit_id_fk",
					"tableFrom": "habit_completions",
					"tableTo": "habit",
					"columnsFrom": ["habit_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"habit_completion_unique": {
					"name": "habit_completion_unique",
					"nullsNotDistinct": false,
					"columns": ["habit_id", "completed_at"]
				}
			},
			"policies": {
				"users_view_own_completions": {
					"name": "users_view_own_completions",
					"as": "PERMISSIVE",
					"for": "SELECT",
					"to": ["authenticated"],
					"using": "EXISTS (\n        SELECT 1 FROM habit \n        WHERE habit.id = habit_id \n        AND habit.user_id = auth.uid()\n      )"
				},
				"users_insert_own_completions": {
					"name": "users_insert_own_completions",
					"as": "PERMISSIVE",
					"for": "INSERT",
					"to": ["authenticated"],
					"withCheck": "EXISTS (\n        SELECT 1 FROM habit \n        WHERE habit.id = habit_id \n        AND habit.user_id = auth.uid()\n      )"
				},
				"users_delete_own_completions": {
					"name": "users_delete_own_completions",
					"as": "PERMISSIVE",
					"for": "DELETE",
					"to": ["authenticated"],
					"using": "EXISTS (\n        SELECT 1 FROM habit \n        WHERE habit.id = habit_id \n        AND habit.user_id = auth.uid()\n      )"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": true
		},
		"public.habit": {
			"name": "habit",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"user_id": {
					"name": "user_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"name": {
					"name": "name",
					"type": "text",
					"primaryKey": false,
					"notNull": true
				},
				"frequency_type": {
					"name": "frequency_type",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"default": "'daily'"
				},
				"frequency_target": {
					"name": "frequency_target",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"frequency_days": {
					"name": "frequency_days",
					"type": "text[]",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"color": {
					"name": "color",
					"type": "text",
					"primaryKey": false,
					"notNull": true,
					"default": "'#10b981'"
				}
			},
			"indexes": {
				"habits_user_id_idx": {
					"name": "habits_user_id_idx",
					"columns": [
						{
							"expression": "user_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"habits_user_created_idx": {
					"name": "habits_user_created_idx",
					"columns": [
						{
							"expression": "user_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "created_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"users_view_own_habits": {
					"name": "users_view_own_habits",
					"as": "PERMISSIVE",
					"for": "SELECT",
					"to": ["authenticated"],
					"using": "auth.uid() = user_id"
				},
				"users_insert_own_habits": {
					"name": "users_insert_own_habits",
					"as": "PERMISSIVE",
					"for": "INSERT",
					"to": ["authenticated"],
					"withCheck": "auth.uid() = user_id"
				},
				"users_update_own_habits": {
					"name": "users_update_own_habits",
					"as": "PERMISSIVE",
					"for": "UPDATE",
					"to": ["authenticated"],
					"using": "auth.uid() = user_id"
				},
				"users_delete_own_habits": {
					"name": "users_delete_own_habits",
					"as": "PERMISSIVE",
					"for": "DELETE",
					"to": ["authenticated"],
					"using": "auth.uid() = user_id"
				}
			},
			"checkConstraints": {},
			"isRLSEnabled": true
		},
		"public.meal_items": {
			"name": "meal_items",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"user_id": {
					"name": "user_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true,
					"default": "auth\n        .\n        uid\n        ()"
				},
				"food_id": {
					"name": "food_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"date": {
					"name": "date",
					"type": "date",
					"primaryKey": false,
					"notNull": true
				},
				"meal_type": {
					"name": "meal_type",
					"type": "varchar(20)",
					"primaryKey": false,
					"notNull": true
				},
				"quantity": {
					"name": "quantity",
					"type": "real",
					"primaryKey": false,
					"notNull": true
				},
				"unit": {
					"name": "unit",
					"type": "varchar(20)",
					"primaryKey": false,
					"notNull": true,
					"default": "'g'"
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"meal_items_date_idx": {
					"name": "meal_items_date_idx",
					"columns": [
						{
							"expression": "date",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"meal_items_user_id_idx": {
					"name": "meal_items_user_id_idx",
					"columns": [
						{
							"expression": "user_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"meal_items_food_id_food_id_fk": {
					"name": "meal_items_food_id_food_id_fk",
					"tableFrom": "meal_items",
					"tableTo": "food",
					"columnsFrom": ["food_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {
				"Users can view own meal items": {
					"name": "Users can view own meal items",
					"as": "PERMISSIVE",
					"for": "SELECT",
					"to": ["authenticated"],
					"using": "auth.uid() = \"meal_items\".\"user_id\""
				},
				"Users can insert own meal items": {
					"name": "Users can insert own meal items",
					"as": "PERMISSIVE",
					"for": "INSERT",
					"to": ["authenticated"],
					"withCheck": "auth.uid() =\"meal_items\".\"user_id\""
				}
			},
			"checkConstraints": {
				"quantity_positive": {
					"name": "quantity_positive",
					"value": "\"meal_items\".\"quantity\" > 0"
				}
			},
			"isRLSEnabled": false
		}
	},
	"enums": {},
	"schemas": {},
	"sequences": {},
	"roles": {},
	"policies": {},
	"views": {},
	"_meta": {
		"columns": {},
		"schemas": {},
		"tables": {}
	}
}
